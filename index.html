<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
        <script>
        (function(){
            emailjs.init("oW-y6ifM6LjJy6K9L");
        })();
        </script>

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap');

            body {
                background-image: none;
                font-family: "Sour Gummy", sans-serif;
                font-optical-sizing: auto;
                font-style: normal;
                font-variation-settings: "wdth" 100;
                text-align: center;
                margin: 0;
                padding: 0;
                min-height: 100vh;
            }

            #content {
                background-color: white;
                width: 90%;
                max-width: 600px;
                min-height: 100vh;
                margin: 0 auto;
                border-left: 4px dotted darkblue;
                border-right: 4px dotted darkblue;
                box-sizing: border-box;
                padding: 1em 1.5em;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            h1, p {
                margin: 0.5em 0;
            }

            textarea, button {
                font-family: "Sour Gummy", sans-serif;
                font-optical-sizing: auto;
                font-style: normal;
                font-variation-settings: "wdth" 100;
                text-align: center;
                font-size: 1.1rem;
                padding: 0.5em 0.75em;
                margin-bottom: 1em;
                width: 100%;
                max-width: 400px;
                box-sizing: border-box;
                border: 2px solid #333;
                border-radius: 4px;
            }

            button {
                cursor: pointer;
                background-color: #f4d9d9;
                transition: background-color 0.3s ease;
            }

            button:hover {
                background-color: #ddd;
            }

            textarea {
                resize: none;
                overflow: hidden;
                transition: height 0.2s ease;
            }

            /* Responsive tweaks */
            @media (max-width: 480px) {
                #content {
                    border-left: 2px dotted darkblue;
                    border-right: 2px dotted darkblue;
                    padding: 1em;
                }

                input, button {
                    font-size: 1rem;
                    max-width: 100%;
                }

                #moodImg {
                    max-width: 100%;
                }
            }
        </style>
        
    </head>

    <body>
        <div id="content">

            <h1 id="greeting"></h1>

            <textarea id="personalmsg" type="text" placeholder="type a message to me!" rows="1"></textarea>
            <button onclick="sendEmail()" id="sendbutton">send! (takes a sec)</button>

            <div id="list">
                <a href="golfmood.html"><button>Golf Mood Forecast</button></a>
                <a href="cutemessage.html"><button>Cute Message Generator</button></a>
                //<a href=""><button>third feeecha</button></a>

                <img id="foodoftheday"></div>
            </div>
            

        </div>

        <script>
            function setGreetingMessage() {
                console.log("Greeting MSG set started")
                const hour = new Date().getHours() + 1; 
                let greeting = "";
                
                if(hour < 5 || hour >= 22) { 
                    greeting = "It's nighttime already, go to bed!";
                } else if (hour > 5 && hour < 9) {
                    greeting = "Good morning!! I hope you slept well ðŸ’¤";
                } else if (hour >= 9 && hour < 13) {
                    greeting = "Its almost lunch time :O nom nom";
                } else if (hour >= 13 && hour < 20) {
                    greeting = "Maybe snack or dinner time?";
                } else {
                    greeting = "Almost sleep time, but not yet.."
                }

                console.log(greeting);

                document.getElementById("greeting").innerText = greeting;
                console.log("Greeting MSG set completed");
            }

            setGreetingMessage();

            function setSeasonalBackgroundImage() {
                console.log("Seasonal BG set started")
                const month = new Date().getMonth() + 1; // 1-12
                let imageUrl = "";

                if (month >= 3 && month <= 5) {
                    imageUrl = "Images/spring.png";
                } else if (month >= 6 && month <= 8) {
                    imageUrl = "Images/summer.png";
                } else if (month >= 9 && month <= 11) {
                    imageUrl = "Images/autumn.png";
                } else {
                    imageUrl = "Images/winter.png";
                }

                console.log(imageUrl);

                document.body.style.backgroundImage = `url('${imageUrl}')`;
                document.body.style.backgroundSize = "cover"; 
                document.body.style.backgroundPosition = "center center";
                document.body.style.backgroundRepeat = "no-repeat";

                console.log("Seasonal BG set completed");
            }

            setSeasonalBackgroundImage();

            function sendEmail() {
                const message = document.getElementById("personalmsg").value.trim();
                const response = document.getElementById("sendbutton");

                if (!message) {
                    response.innerText = "type a message!";
                    return;
                }

                emailjs.send("service_egbj8g5", "template_8vfo8jr", {
                    message: message
                }).then(
                    function() {
                        response.innerText = "sent successfully!";
                    },
                    function(error) {
                        response.innerText = "failed to send message.";
                    }
                );
            }

            //resizing textarea
            const textarea = document.getElementById("personalmsg");
            textarea.addEventListener("input", () => {
                textarea.style.height = "auto";
                textarea.style.height = textarea.scrollHeight + "px";
            })


        </script>

    </body>


</html>